<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips | Blog | HexRx</title>
<meta name="keywords" content="PY32, Notes">
<meta name="description" content="It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.
How to check if you PY32F002Ax5 has more memory
There you have several options:

Build and flash this code to test RAM and flash https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR
Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor https://hexed.it), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back.

How to unlock hidden features of PY32F002Ax5
If you&rsquo;re using the HAL and LL libraries from the repository https://github.com/IOsetting/py32f0-template, you just need to modify Makefile, change:
MCU_TYPE = PY32F002Ax5
to
MCU_TYPE = PY32F003x6
and recompile the entire project.">
<meta name="author" content="">
<link rel="canonical" href="https://hexrx.github.io/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://hexrx.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hexrx.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hexrx.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://hexrx.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://hexrx.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://hexrx.github.io/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8HK5X7GEB"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-F8HK5X7GEB');
        }
      </script><meta property="og:url" content="https://hexrx.github.io/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/">
  <meta property="og:site_name" content="Blog | HexRx">
  <meta property="og:title" content="Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips">
  <meta property="og:description" content="It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.
How to check if you PY32F002Ax5 has more memory There you have several options:
Build and flash this code to test RAM and flash https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor https://hexed.it), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back. How to unlock hidden features of PY32F002Ax5 If you’re using the HAL and LL libraries from the repository https://github.com/IOsetting/py32f0-template, you just need to modify Makefile, change: MCU_TYPE = PY32F002Ax5 to MCU_TYPE = PY32F003x6 and recompile the entire project.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-10-18T21:25:46+03:00">
    <meta property="article:modified_time" content="2024-10-18T21:25:46+03:00">
    <meta property="article:tag" content="PY32">
    <meta property="article:tag" content="Notes">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips">
<meta name="twitter:description" content="It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.
How to check if you PY32F002Ax5 has more memory
There you have several options:

Build and flash this code to test RAM and flash https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR
Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor https://hexed.it), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back.

How to unlock hidden features of PY32F002Ax5
If you&rsquo;re using the HAL and LL libraries from the repository https://github.com/IOsetting/py32f0-template, you just need to modify Makefile, change:
MCU_TYPE = PY32F002Ax5
to
MCU_TYPE = PY32F003x6
and recompile the entire project.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://hexrx.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips",
      "item": "https://hexrx.github.io/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips",
  "name": "Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips",
  "description": "It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.\nHow to check if you PY32F002Ax5 has more memory There you have several options:\nBuild and flash this code to test RAM and flash https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor https://hexed.it), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back. How to unlock hidden features of PY32F002Ax5 If you\u0026rsquo;re using the HAL and LL libraries from the repository https://github.com/IOsetting/py32f0-template, you just need to modify Makefile, change: MCU_TYPE = PY32F002Ax5 to MCU_TYPE = PY32F003x6 and recompile the entire project.\n",
  "keywords": [
    "PY32", "Notes"
  ],
  "articleBody": "It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.\nHow to check if you PY32F002Ax5 has more memory There you have several options:\nBuild and flash this code to test RAM and flash https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor https://hexed.it), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back. How to unlock hidden features of PY32F002Ax5 If you’re using the HAL and LL libraries from the repository https://github.com/IOsetting/py32f0-template, you just need to modify Makefile, change: MCU_TYPE = PY32F002Ax5 to MCU_TYPE = PY32F003x6 and recompile the entire project.\nAlready tested chips PY32F002AA15M6TU I tested the small one PY32F002AA15M6TU in ESSOP10 package (btw it costs only 15 cents). The original source of the image is LCSC https://www.lcsc.com/product-detail/Microcontroller-Units-MCUs-MPUs-SOCs_PUYA-PY32F002AA15M6TU_C5292058.html\nAccording to the datasheet, the chip has 3 KB of RAM and 20 KB of flash memory with a maximum core frequency of 24 MHz. I tested 4 KB RAM and 32 KB flash and they work fine. Also, I was able to use ADC with DAM, use TIM3 (which the PY32F002A shouldn’t have, only TIM1 and TIM16), and run the chip with PLL and 48 MHz frequency.\nPY32F002AF15P There is an article https://www.cnblogs.com/milton/p/17052963.html from a Chinese guy who tested this chip. He tested 4 KB RAM and 32 KB flash, ADC with DMA, and PLL with 48 MHz.\nReferences:\nhttps://www.cnblogs.com/milton/p/17052963.html https://github.com/wagiminator/Development-Boards/tree/main/PY32F002AF15P_DevBoard#unofficial-additional-features\n",
  "wordCount" : "279",
  "inLanguage": "en",
  "datePublished": "2024-10-18T21:25:46+03:00",
  "dateModified": "2024-10-18T21:25:46+03:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hexrx.github.io/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Blog | HexRx",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hexrx.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://hexrx.github.io/" accesskey="h" title="Blog | HexRx (Alt + H)">Blog | HexRx</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Get DMA, PLL with 48 MHz, 4 KB RAM, and 32 KB flash memory for PY32F002Ax5 chips
    </h1>
    <div class="post-meta"><span title='2024-10-18 21:25:46 +0300 EEST'>October 18, 2024</span>

</div>
  </header> 
  <div class="post-content"><p>It seems that most Chinese chips PUYA PY32F002Ax5 have the core from PY32F030x6 chips inside, which gives undocumented features like DMA support, PLL with the ability to run chip on 48 MHz, additional timers like TIM3, and 4 KB RAM with 32 KB flash.</p>
<h3 id="how-to-check-if-you-py32f002ax5-has-more-memory">How to check if you PY32F002Ax5 has more memory<a hidden class="anchor" aria-hidden="true" href="#how-to-check-if-you-py32f002ax5-has-more-memory">#</a></h3>
<p>There you have several options:</p>
<ol>
<li>Build and flash this code to test RAM and flash <a href="https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR">https://github.com/IOsetting/py32f0-template/tree/main/Examples/PY32F0xx/HAL/Test/PY32F002A_32KF_4KR</a></li>
<li>Create an empty 32kb binary file in your preferred hex editor (or use the online hex editor <a href="https://hexed.it">https://hexed.it</a>), put some bytes to the end of the file, flash the file to the chip, then verify those bytes by reading the firmware back.</li>
</ol>
<h3 id="how-to-unlock-hidden-features-of-py32f002ax5">How to unlock hidden features of PY32F002Ax5<a hidden class="anchor" aria-hidden="true" href="#how-to-unlock-hidden-features-of-py32f002ax5">#</a></h3>
<p>If you&rsquo;re using the HAL and LL libraries from the repository <a href="https://github.com/IOsetting/py32f0-template">https://github.com/IOsetting/py32f0-template</a>, you just need to modify Makefile, change:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>MCU_TYPE <span style="color:#f92672">=</span> PY32F002Ax5</span></span></code></pre></div>
to
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>MCU_TYPE <span style="color:#f92672">=</span> PY32F003x6</span></span></code></pre></div>
and recompile the entire project.</p>
<h3 id="already-tested-chips">Already tested chips<a hidden class="anchor" aria-hidden="true" href="#already-tested-chips">#</a></h3>
<h4 id="py32f002aa15m6tu">PY32F002AA15M6TU<a hidden class="anchor" aria-hidden="true" href="#py32f002aa15m6tu">#</a></h4>
<p>I tested the small one PY32F002AA15M6TU in ESSOP10 package (btw it costs only 15 cents).
<img alt="PY32F002AA15M6TU" loading="lazy" src="/posts/get-dma-pll-with-48mhz-4kb-ram-and-32kb-flash-memory-for-py32f002ax5-chips/images/PY32F002AA15M6TU.avif"></p>
<blockquote>
<p>The original source of the image is LCSC <a href="https://www.lcsc.com/product-detail/Microcontroller-Units-MCUs-MPUs-SOCs_PUYA-PY32F002AA15M6TU_C5292058.html">https://www.lcsc.com/product-detail/Microcontroller-Units-MCUs-MPUs-SOCs_PUYA-PY32F002AA15M6TU_C5292058.html</a></p>
</blockquote>
<p>According to the datasheet, the chip has 3 KB of RAM and 20 KB of flash memory with a maximum core frequency of 24 MHz. I tested 4 KB RAM and 32 KB flash and they work fine. Also, I was able to use ADC with DAM, use TIM3 (which the PY32F002A shouldn&rsquo;t have, only TIM1 and TIM16), and run the chip with PLL and 48 MHz frequency.</p>
<h4 id="py32f002af15p">PY32F002AF15P<a hidden class="anchor" aria-hidden="true" href="#py32f002af15p">#</a></h4>
<p>There is an article <a href="https://www.cnblogs.com/milton/p/17052963.html">https://www.cnblogs.com/milton/p/17052963.html</a> from a Chinese guy who tested this chip. He tested 4 KB RAM and 32 KB flash, ADC with DMA, and PLL with 48 MHz.</p>
<p>References:</p>
<p><a href="https://www.cnblogs.com/milton/p/17052963.html">https://www.cnblogs.com/milton/p/17052963.html</a>
<a href="https://github.com/wagiminator/Development-Boards/tree/main/PY32F002AF15P_DevBoard#unofficial-additional-features">https://github.com/wagiminator/Development-Boards/tree/main/PY32F002AF15P_DevBoard#unofficial-additional-features</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://hexrx.github.io/tags/py32/">PY32</a></li>
      <li><a href="https://hexrx.github.io/tags/notes/">Notes</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>Copyright © 2024 HexRx</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
